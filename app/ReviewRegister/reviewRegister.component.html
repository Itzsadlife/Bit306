<officer-navbar></officer-navbar>

<div class="container mt-5">
    <div class="row">
        <div class="col-lg-12">
            <h2 class="text-center">Merchant Registration Review</h2>
            <hr>
        </div>
    </div>

    <div *ngIf="merchants.length > 0">
        <mat-accordion multi="true" class="mt-3 mb-5">
            <mat-expansion-panel 
                *ngFor="let merchant of merchants"
                [ngClass]="{
                    'border-success': merchant.status === 'Accepted', 
                    'border-danger': merchant.status === 'Rejected',
                    'border-warning': merchant.status === 'Pending'
                }" class="mb-3">

                <mat-expansion-panel-header class="bg-light">
                    <mat-panel-title>
                        {{merchant.firstName}} - {{merchant.lastName}}
                    </mat-panel-title>
                </mat-expansion-panel-header>

                <div class="row">
                    <div class="col-lg-4">
                        <strong>Contact:</strong> {{merchant.contactNumber}}
                    </div>
                    <div class="col-lg-4">
                        <strong>Email:</strong> {{merchant.email}}
                    </div>
                    <div class="col-lg-4">
                        <strong>Status:</strong> 
                        <span [ngClass]="{
                            'status-accepted': merchant.status === 'Accepted', 
                            'status-rejected': merchant.status === 'Rejected',
                            'status-pending': merchant.status === 'Pending'
                        }">{{merchant.status}}</span>
                    </div>
                    <div class="col-lg-12 mt-2">
                        <strong>Description:</strong> {{merchant.description}}
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-lg-12 text-end"> 
                        <button mat-button class="btn btn-success" (click)="acceptMerchant(merchant._id)">Accept</button>
                        <button mat-button class="btn btn-danger ml-3" (click)="rejectMerchant(merchant._id)">Reject</button>                        
                    </div>
                </div>
            </mat-expansion-panel>
        </mat-accordion>
    </div>

    <div class="row" *ngIf="merchants.length == 0">
        <div class="col-lg-12 text-center mt-5">
            <p class="info-text mat-body-1">No Merchant Added Yet</p>
        </div>
    </div>
</div>
